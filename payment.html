<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js" rel="javascript"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="websiteStyle.css">
    <title>Payment</title>
    <style>
      
        .billing{
        font-size: 11px;
        }  
        .super-price{
           top: 0px;
        font-size: 22px;
        }     
        
    </style>
</head>
  <body>
      <!-- Header section -->
      <header>
          <div class="logo">
              <img src="images/ML Menswear Logo.JPG" alt="ML Menswear Logo">
          </div>
          <div class="search-bar">
              <input type="text" placeholder="Search">
              <button><i class="fas fa-search"></i></button>
          </div>
          <div class="user-icons">
              <i class="fas fa-heart"></i>
              <i class="fas fa-shopping-basket"></i>
              <i class="fas fa-user"></i>
          </div>
      </header>
      
      <!-- Navigation section -->
      <nav>
          <a href="#"><i class="fas fa-home"></i>Home</a>
          <a href="#">Tops</a>
          <a href="#">Coats & Jackets</a>
          <a href="#">Trousers</a>
          <a href="#">Shoes</a>
          <a href="#">Accessories</a>
      </nav>
      
    <!-- Main content section -->
    <div class="container d-flex justify-content-center mt-5 mb-5">
        <div class="row g-3">
          <div class="col-md-6">  
            <span>Payment Method</span>
            <div class="card">
              <div class="accordion" id="accordionExample">
                <div class="card">
                  <div class="card-header p-0" id="headingTwo">
                    <h2 class="mb-0">
                      <button class="btn btn-light btn-block text-left collapsed p-3 rounded-0 border-bottom-custom" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <div class="d-flex align-items-center justify-content-between">
                          <span>Paypal</span>
                          <img src="paypal.png" width="30px" alt="paypal logo" style="border: 1px;border-radius: 5px;">    
                        </div>
                      </button>
                    </h2>
                  </div>
                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                    <div class="card-body">
                      <input type="text" class="form-control" placeholder="Paypal email">
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header p-0">
                    <h2 class="mb-0">
                      <button class="btn btn-light btn-block text-left p-3 rounded-0" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <div class="d-flex align-items-center justify-content-between">
                          <span>Credit card</span>
                          <div class="icons">
                            <img src="mastercard.png" width="30" alt="card types" style="border: 1px;border-radius: 5px;">    
                            <img src="visa.png" width="30" alt="card types" style="border: 1px;border-radius: 5px;">
                            <img src="stripe.png" width="30" alt="card types" style="border: 1px;border-radius: 5px;">
                            <img src="visa.png" width="30" alt="card types" style="border: 1px;border-radius: 5px;">
                          </div>  
                        </div>
                      </button>
                    </h2>
                  </div>
                  <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                    <div class="card-body payment-card-body">
                      <span class="font-weight-normal card-text">Card Number</span>
                      <div class="input">
                        <i class="fa fa-credit-card"></i>
                        <input type="text" class="form-control" placeholder="0000 0000 0000 0000">
                      </div> 
                      <div class="row mt-3 mb-3">
                        <div class="col-md-6">
                          <span class="font-weight-normal card-text">Expiry Date</span>
                          <div class="input">
                            <i class="fa fa-calendar"></i>
                            <input type="text" class="form-control" placeholder="MM/YY">
                          </div> 
                        </div>
                        <div class="col-md-6">
                          <span class="font-weight-normal card-text">CVC/CVV</span>
                          <div class="input">
                            <i class="fa fa-lock"></i>
                            <input type="text" class="form-control" placeholder="000">
                          </div> 
                        </div>
                      </div>
                      <span class="text-muted certificate-text"><i class="fa fa-lock"></i> Your transaction is secured with ssl certificate</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
              <span>Summary</span>
              <div class="card">
                <div class="d-flex justify-content-between p-3">
                  <div class="d-flex flex-column">
                    <span>Billed&nbsp;<i class="fa fa-caret-down"></i></span>
                    <a href="#" class="billing">Purchase £10 more to unlock a 5% discount</a>
                  </div>
                  <div class="mt-1">
                    <sup class="super-price">£XX.xx</sup>
                  </div>
                </div>
                <hr class="mt-0 line">
                <div class="p-3" id="promoBlock">
                  <div class="d-flex justify-content-between mb-2">
                    <span>Shipping Charges:</span>
                    <span>+£XX.xx</span>
                  </div>
                  <div class="d-flex justify-content-between">
                    <span>Tax </span>
                    <span>+xx%</span>
                  </div>
                </div>
                <hr class="mt-0 line">
                <div class="p-3 d-flex justify-content-between">
                  <div class="d-flex flex-column">
                    <span>Total(GBP):</span>
                  </div>
                  <span>£XX.xx</span>
                </div>
                <div class="p-3">
                <button class="btn btn-primary btn-block free-button" id="pay-Btn">Pay</button> 
               <div class="text-center" style="margin-top: 5px;">
                 <button class="btn btn-primary btn-block free-button" id="promo-Btn">Have a promo code?</button>
               </div>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div id="payModal" class="modal">
        <div class="modal-content">
          <p>Payment Succesfull, redirecting to orders...</p>
        </div>
      </div>
      <div id="promoModal" class="modal">
        <div class="modal-content">
          <span class="close" style="position: absolute; right:20px;">&times;</span>
            <div class="form-group">
              <label for="promocode">Promo Code</label>
              <input type="text" class="form-control" id="promocode" aria-describedby="textHelp" placeholder="Enter Promo Code">
            </div>
            <button type="submit" class="btn btn-primary" id="apply-Btn" style="margin-top: 5px;">Apply</button>
        </div>
      </div>
      <!-- Footer section -->
    <footer>
      <p>&copy; 2024 ML Menswear. All rights reserved.</p>
    </footer>
    <script>
      var promoModal = document.getElementById("promoModal");
      var payModal = document.getElementById("payModal");
      var payBtn = document.getElementById("pay-Btn");
      var promoBtn = document.getElementById("promo-Btn")
      var applyBtn = document.getElementById("apply-Btn");
      var promoBlock = document.getElementById("promoBlock");
      var span = document.getElementsByClassName("close")[0];
      var promoCode = document.getElementById("promocode");
      // When the user clicks the button, open the modal 
      payBtn.onclick = function() {
        payModal.style.display = "block";
        window.setTimeout(function(){window.location.href = window.location.href.substring(0, window.location.href.lastIndexOf('/'))+"/orderHistory.html";}, 2000);
      }
      promoBtn.onclick = function() {
        promoModal.style.display = "block";
      }

      applyBtn.onclick = function() {
        console.log(promoCode.value);
        promoBlock.innerHTML += `<div class="d-flex justify-content-between"><span>Promocode - ${promoCode.value}</span><span>-xx%</span></div>`;
        promoModal.style.display = "none";
      }
      
      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
        promoModal.style.display = "none";
      }
      </script>
</body>
</html>
